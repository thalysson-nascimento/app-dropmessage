<div class="contain">
  <div class="contain-title-description">
    <h1 class="title-description">Conte um pouco sobre você!</h1>
  </div>

  <div class="contain-icon">
    <img src="assets/icon-static/icon-create-description.svg" alt="" />
  </div>

  <form
    class="contain"
    [formGroup]="userDescriptionFormGroup"
    (submit)="saveUserDescription()"
  >
    <div class="contain-input">
      <textarea
        type="text"
        placeholder="Digite sua descrição aqui"
        class="input-custom"
        appInputCustom
        maxlength="150"
        formControlName="userDescription"
        oninput="document.getElementById('charCounter').textContent = this.value.length"
      ></textarea>

      <div class="contain-character-counter">
        <span class="character-counter">
          <output id="charCounter">0</output>/150
        </span>
      </div>

      <div class="contain-alert" *ngIf="showAlertUserDescription">
        <p>
          Continue com a descrição para uma análise mais precisa da IA com seus
          futuros matches.
        </p>
      </div>

      <div *ngIf="errorRequest" class="contain-alert-error">
        <p>
          Ops, ocorreu um erro ao salvar sua descrição, tente novamente mais
          tarde.
        </p>
      </div>

      <div *ngIf="erroCompletedUserDescription">
        <p>Ops, ocorreu um erro ao completar a descrição com a IA.</p>
      </div>

      <div *ngIf="showUserDescriptionComplete && !erroCompletedUserDescription">
        <p class="information-title-ia">Descrição gerada por IA.</p>
        <div class="contain-user-description-complete">
          <p>{{ userDescriptionCompleted }}</p>
          <div class="contain-button-apply-description">
            <button
              class="button-apply-description"
              (click)="applyDescriptionForm()"
              type="button"
            >
              usar descrição
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="contain-button">
      <button
        class="button"
        appButtonStyle
        type="submit"
        [buttonType]="'secondary'"
        [disabled]="buttonDisalbled || userDescriptionFormGroup.invalid"
        [disabledButton]="buttonDisalbled || userDescriptionFormGroup.invalid"
      >
        <span *ngIf="!buttonDisalbled">Salvar descrição</span>
        <div *ngIf="buttonDisalbled" class="bouncing-dots">
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
        </div>
      </button>
    </div>
  </form>
</div>
